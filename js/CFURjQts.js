import{b as h,e as v,a as S,f as $,t as w,g as A,O as _,d as b,h as j,j as T,c,k as E}from"./ChUMkS6P.js";import{n as e}from"./BVv2S30c.js";import{u as N}from"./DSb9Sqaw.js";import{u as O,P as q}from"./vB1of1f_.js";import{_ as x}from"./jrEy4lmL.js";import{R as G}from"./Ckh8S67_.js";import{i as I}from"./D2MfSaGS.js";const M=async(i,u,o,m)=>{const{$api:p}=h(),a=v(),d=S(),f=m?`usePage-${a}-${m}`:`usePage-${a}-${i||u}`,g=$(f,()=>({data:null}));return typeof o=="function"&&await o(async(r,l,n)=>{const P=n?`page-${a}-${n}`:`page-${a}-${r||l}`,{data:s,error:y}=await A(P,async()=>{try{const t=new _({siteId:a,id:r?+r:void 0,slug:r?void 0:l,fields:[e("id"),e("name"),e("slug"),e("siteId"),e("widgets"),e("pageType"),e("pageTemplateType"),e("seoSettings"),e("keywords"),e("metaTitle"),e("metaDescription")].join(",")});return n&&(t.id=null,t.slug=null,t.pageType=n),await(p==null?void 0:p.get(t))}catch(t){throw t}},"$7tMh7GfAmw");return O(y.value,s.value),N(s.value),d.setPage(s.value),g.value.data=s.value,s}),{...w(g.value)}},z=M,B=b({name:"WebSitePageTemplate",props:{site:{type:Object,required:!0},page:{type:Object,required:!0}},setup(i){const{title:u,meta:o}=I(i.page);j({title:u,meta:o})},render(){if(!T(this.page))return c("div",{class:"kmb-site-page"},[c(x,null,{default:()=>[c("div",{class:E(q(this.page)),"data-page-template-type":this.page.pageTemplateType},[G(this.page,this.site)])]})])}});export{B as W,z as u};
