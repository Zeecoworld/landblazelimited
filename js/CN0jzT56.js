import{d as F,s as P,i as a,dH as V,ah as w,fk as l,w as o,dJ as W,dV as v,c as t,k as H,ap as M,N as h,K as b,z as j}from"./ChUMkS6P.js";import{f as _}from"./CUS6be9h.js";import{W as O}from"./C5_VwG_t.js";import{B as q}from"./BG4hMk6f.js";import{D as p}from"./D9Hbs_0D.js";import{I as L}from"./uNGU_bZw.js";import{P as Y}from"./nKqe4eWP.js";import"./BIucnIh5.js";import"./BgHkq_PJ.js";import"./DzFfo68f.js";import"./cuZZCMxh.js";import"./DldpU35S.js";import"./A9nCysFq.js";import"./CeHZR0Ph.js";import"./BVv2S30c.js";import"./CfeTNxv7.js";function A(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!j(e)}const de=F({name:"PostItem",props:{post:{type:Object,required:!0},settings:{type:Object,required:!0},itemShowSettings:{type:Object,required:!0},index:{type:Number,required:!0},bgFirstImage:{type:Boolean,default:!1},isHiddenImage:{type:Boolean,default:!1},isEnabledSideBar:{type:Boolean,default:!1}},setup(e){const{t:c}=P(),g=a(()=>{var i;return((i=e.settings)==null?void 0:i.differentFirstImage)&&e.index==0}),y=a(()=>g.value?e.settings.columnSizeDifferentFirstItem:e.isEnabledSideBar?e.settings.columnSizeWithSideBar:e.settings.columnSize),u=a(()=>g.value?e.isEnabledSideBar?e.settings.imageResizeDifferentFirstItemWithSideBar:e.settings.imageResizeDifferentFirstItem:e.isEnabledSideBar?e.settings.imageResizeWithSideBar:e.settings.imageResize),m=a(()=>{const{slug:i}=e.post;return V({slug:i,pageTemplateType:w.Blog})}),E=a(()=>{var i;return e.isHiddenImage?!1:e.bgFirstImage?g.value:(i=e.settings)==null?void 0:i.bgImage}),x=a(()=>{var s;return n(l.Category)===!1?!1:!o((s=e.post.mainCategory)==null?void 0:s.name)}),I=a(()=>n(l.Date)===!1?!1:!o(e.post.publishDate)),S=a(()=>n(l.AuthorName)===!1?!1:!o(e.post.author)),B=a(()=>n(l.PostSummary)===!1?!1:!o(e.post.shortDescription)),f=a(()=>{const{expectedReadMinutes:i}=e.post;if((n(l.ReadingTime)&&!!i)===!1)return!1;const{showReadTime:d,differentFirstImage:r,bgImage:R,showReadTimeWithSidebar:N}=e.settings;return(e.isEnabledSideBar?N:d)||(r||R)&&e.index==0}),z=a(()=>{var i,s;return new O({lczText:new W({lczValue:((s=(i=e.post.button)==null?void 0:i.lczText)==null?void 0:s.lczValue)||c("buttons.readMore")}),page:new v({slug:e.post.slug||null,linkType:w.Blog,...!e.post.slug&&new v({id:e.post.id})})})}),n=i=>{var s;return o(e.itemShowSettings)?!0:e.itemShowSettings[i]&&((s=e.itemShowSettings[i])==null?void 0:s.isEnabled)},D=(i=!0)=>i?t(b,{to:m.value,class:"kmb-site-post-item-link kmb-site-post-item-name-link"},{default:()=>[t(p,{value:e.post.nameHtml,title:e.post.name,"data-title":e.post.name,tag:"h4",class:"kmb-widget-blog-post-name kmb-widget-title-h4 kmb-widget-default-style-text kmb-widget-el-group"},null)]}):t(p,{value:e.post.nameHtml,title:e.post.name,"data-title":e.post.name,tag:"h4",class:"kmb-widget-blog-post-name kmb-widget-title-h4 kmb-widget-default-style-text kmb-widget-el-group"},null),k=(i=!0,s=!0)=>{var d,r;return t("div",{class:"kmb-site-blog-post-item-content-info kmb-widget-titles-info kmb-site-default-dir kmb-widget-no-divider"},[x.value&&t("div",{class:"kmb-widget-el-group kmb-widget-blog-post-item-main-category","data-main-category-id":e.post.mainCategory.id},[t("p",{class:"kmb-widget-blog-post-item-main-category-name kmb-widget-post-text-overline1 kmb-widget-text-overline1"},[e.post.mainCategory.name])]),D(i),t("div",{class:"kmb-widget-blog-info-item"},[t("div",{class:"kmb-site-blog-post-item-info -mx-2"},[I.value&&t("div",{class:"kmb-widget-blog-post-item-publish-date-col px-2"},[t("div",{class:"kmb-widget-el-group"},[t("p",{class:"kmb-widget-blog-post-item-publish-date kmb-widget-blog-post-date kmb-widget-text-caption3"},[_(e.post.publishDate,"DD.MM.YYYY")])])]),f.value&&t("div",{class:"kmb-widget-blog-post-item-time-to-read-col px-2"},[t("div",{class:"kmb-widget-el-group"},[t("p",{class:"kmb-widget-blog-post-item-time-to-read kmb-widget-blog-post-read-minutes kmb-widget-text-caption3"},[e.post.expectedReadMinutes,h(" "),c("labels.minRead")," "])])]),S.value&&t("div",{class:"kmb-widget-blog-post-item-author-col px-2"},[t("div",{class:"kmb-widget-el-group"},[t("p",{class:"kmb-widget-blog-author-name kmb-widget-text-caption3"},[(d=e.post.author)==null?void 0:d.firstName,h(" "),(r=e.post.author)==null?void 0:r.lastName])])])])]),s&&B.value&&t("div",{class:"kmb-blog-post-item-short-description kmb-site-default-text kmb-widget-text-body3 kmb-widget-el-group",innerHTML:e.post.shortDescription},null),n(l.LikesAndViews)&&t("div",{class:"kmb-site-blog-post-item-bottom-info"},[t("div",{class:"kmb-blog-post-likes-and-views-col"},[t("div",{class:"kmb-widget-row"},[t("div",{class:"kmb-widget-col kmb-blog-post-likes-col cursor-pointer"},[t(Y,{post:e.post,isEnabled:!0},null)]),t("div",{class:"kmb-widget-col kmb-blog-post-views-col"},[t("span",{class:"kmb-blog-post-views kmb-widget-text-body2"},[t("i",{class:"kmb-site-icon-show mr-1"},null),e.post.viewedCount||0])])])])])])},T=()=>{var i;if(!((i=e.settings)!=null&&i.hideImage||e.isHiddenImage))return t(b,{to:m.value,class:"kmb-site-blog-post-item-image block"},{default:()=>[t(L,{value:e.post.coverImage,resize:u.value,class:"kmb-widget-col-group"},null)]})},C=()=>{let i;return t(b,{to:m.value,class:"kmb-site-blog-post-item-image block"},{default:()=>[t(q,{image:e.post.coverImage,imageResize:u.value,class:"kmb-blog-post-item-banner kmb-widget-bg-cover-image relative"},A(i=k(!1,!1))?i:{default:()=>[i]})]})};return{postUrl:m,postButton:z,columnSize:y,imageResize:u,isEnabledReadingTime:f,renderContent:()=>E.value?C():t(M,null,[T(),k()]),isEnabledElement:n}},render(){return t("div",{class:H("kmb-site-blog-post-item kmb-widget-col",this.columnSize),"data-post-id":this.post.id},[this.renderContent()])}});export{de as default};
