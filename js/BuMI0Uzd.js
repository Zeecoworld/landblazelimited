const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DDDgIi3Z.js","./ChUMkS6P.js","./entry.CPpMyCbQ.css","./CBBLqVke.js","./CcdTgBWD.js","./CWbzfonA.js","./QBgLLMRt.js","./BgHkq_PJ.js","./CeHZR0Ph.js","./CY0cy9zf.js","./6Po4j3qC.js","./BVv2S30c.js","./VGazA56a.js","./D9Hbs_0D.js","./A9nCysFq.js","./D03YGIr3.js","./BlexT4wM.js","./CaE2FUfE.js","./C5_VwG_t.js","./CiHLLTvI.js","./BCJj-5qu.js","./lrIEU_yr.js","./BooiBbdB.js","./C8eTOF1G.js","./Ck2GPDyH.js","./DOhtIOqX.js"])))=>i.map(i=>d[i]);
import{d as v,h as _,b as L,m as P,e as T,v as y,ad as w,ab as d,E as S,Q as V,g as A,c as t,l as g,_ as b}from"./ChUMkS6P.js";import{_ as I}from"./jrEy4lmL.js";import{G as q}from"./CcdTgBWD.js";import{u as E}from"./DSb9Sqaw.js";import{W as R}from"./DeNJEHch.js";import"./DwDAZxOX.js";const x=g(()=>b(()=>import("./DDDgIi3Z.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]),import.meta.url)),C=g(()=>b(()=>import("./DOhtIOqX.js"),__vite__mapDeps([25,1,2,17,4]),import.meta.url)),B=v({name:"WhishlistPage",async setup(){var p;const o="Wishlist";_({title:o,titleTemplate:"Store | %s",bodyAttrs:{class:["kmb-site-app-body","kmb-site-store-body","kmb-collection-template-default"]}}),E({metaTitle:`Store | ${o}`});const{$api:a}=L(),h=P(),r=T(),l=y(!1),n=w("wishListProductsIds"),f=w("grid_display"),c=y(new d({ids:n.value||[],siteId:r,includeSku:!0,includeOnlyPublished:!0,include:"total",skip:0,take:12}));let s=S(new V);const k=async(u=!1,i=!0)=>{try{l.value=!0;const e=await a.get(new d({...c.value}));i?s=e:(s.offset=e.offset,s.total=e.total,s.results=[...s.results,...e.results])}catch(e){const m=e;m.responseStatus&&m.responseStatus.errorCode=="404"&&(s.results=[])}finally{if(l.value=!1,u){const e=document==null?void 0:document.querySelector("#kmb-paginated-data");e&&e.scrollIntoView({behavior:"smooth"})}}};if((p=n.value)!=null&&p.length){const{data:u}=await A(`wishlist-${r}`,async()=>{try{const i=new d({ids:n.value,siteId:r,includeSku:!0,includeOnlyPublished:!0,include:"total",skip:0,take:12});return await(a==null?void 0:a.get(i))}catch(i){throw console.error(i),i}});s=u.value}return{site:h,isLoading:l,initQuery:c,queryResponse:s,gridViewLayoutType:f,onFetchProducts:k}},render(){return t("div",{class:"kmb-site-page"},[t(I,null,{default:()=>[t(R,{class:"kmb-site-store-app-page-widget kmb-site-app-page-widget kmb-site-products-wishlist-widget"},{default:()=>[t("div",{class:"kmb-site-products-wishlist-widget-body",id:"kmb-paginated-data"},[t("div",{class:"kmb-widget-container"},[t("div",{class:"kmb-collection-top-filter-row kmb-products-wishlist-top-filter-row kmb-widget-row justify-between items-center mb-8"},[t("div",{class:"kmb-widget-col"},[t("p",{class:"kmb-widget-title-h4 kmb-site-default-text my-4"},[this.$t("labels.wishlist")])]),t(C,{gridViewLayoutType:this.gridViewLayoutType||q.Four,class:"kmb-product-grid-layout kmb-widget-col",onChange:o=>{this.gridViewLayoutType=o}},null)]),t("div",{class:"kmb-widget-row"},[t(x,{site:this.site,query:this.initQuery,isLoading:this.isLoading,queryResponse:this.queryResponse,gridViewLayoutType:this.gridViewLayoutType,isEnabledButton:!0,onFetch:async()=>await this.onFetchProducts(!0),onSeeMore:async()=>await this.onFetchProducts(!1,!1),class:"kmb-center-product-item-content-list"},null)])])])]})]})])}});export{B as default};
