var f=Object.defineProperty;var P=(i,t,s)=>t in i?f(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var n=(i,t,s)=>P(i,typeof t!="symbol"?t+"":t,s);import{P as b}from"./Ds_RWLZA.js";import{S as d,aP as e,a7 as m,ab as c}from"./ChUMkS6P.js";import{i as g}from"./DSoJ1F4P.js";import{s as O}from"./CDlfM46V.js";const S={[d.Manual]:"id",[d.Last]:"-id",[d.Popular]:"-viewedCount"};class I{constructor(t){n(this,"rangePrices",null);n(this,"rating",null);n(this,"tagLabels",null);n(this,"q",null);n(this,"orderBy",null);n(this,"take",null);Object.assign(this,t)}}const p=(i=new c,t)=>{var s,o;if(e.isEmptyObject(t))return i;if(t!=null&&t.rangePrices){const a=(s=String(t.rangePrices))==null?void 0:s.split(",").map(r=>Number(r));i.minPrice=a[0],i.maxPrice=a[1]}if(g(t==null?void 0:t.rating)&&(i.rating=Number(t.rating)),t!=null&&t.tagLabels&&(i.tagLabels=(o=String(t.tagLabels))==null?void 0:o.split(",")),t!=null&&t.q){const a=JSON.parse(String(t==null?void 0:t.q));e.isEmptyObject(a)||(i instanceof c?i.productGroupsDic=a:i instanceof m&&(i.filterProductGroupsDic=a))}return e.removeEmptyFields({...i})},w=(i,t)=>{if(e.isEmptyObject(i))return;const s=new m({...i,includeSidebarContent:!0,includeOnlyPublished:!0});return p(s,t)},D=(i,t)=>{if(e.isEmptyObject(i))return new c;const s=e.removeEmptyFields(new c({siteId:i.siteId,includeSku:!0,includeOnlyPublished:!0,include:"total",take:12,skip:0,collectionId:i.id,orderBy:S[i==null?void 0:i.sortType]||"-id",fields:b.join(",")})),o=O(s,t);return i.includeAllProducts||(o.collectionId=i.id),p(new c({...o}),t)},N=i=>e.isEmptyObject(i)?null:JSON.stringify(i);export{S as C,I as G,D as a,w as i,N as s};
