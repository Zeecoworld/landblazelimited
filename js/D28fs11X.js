const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dud3NGmt.js","./ChUMkS6P.js","./entry.CPpMyCbQ.css","./B7AWbE-9.js","./CiHLLTvI.js","./D9Hbs_0D.js","./A9nCysFq.js","./CeHZR0Ph.js","./BWP3JVTn.js","./BooiBbdB.js","./DGbmFum1.js","./uNGU_bZw.js","./BgHkq_PJ.js","./BVv2S30c.js","./cuZZCMxh.js","./DldpU35S.js","./DzFfo68f.js","./CfeTNxv7.js","./m1t57SGh.js","./C8eTOF1G.js","./Ck2GPDyH.js"])))=>i.map(i=>d[i]);
import{d as y,h as f,m as P,u as v,X as A,v as _,b,g as S,j as T,c,l as h,_ as k,am as m,an as g}from"./ChUMkS6P.js";import{u as C}from"./DSb9Sqaw.js";const E=h(()=>k(()=>import("./Dud3NGmt.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),O=[m.Processed,m.Pending],D=y({name:"Thankyou",async setup(){var u;const o="Thank you";f({title:o,titleTemplate:"Store | %s",bodyAttrs:{class:["kmb-site-app-body","kmb-site-store-body","kmb-thankyou-template-default"]}}),C({metaTitle:`Store | ${o}`});const n=P(),d=v(),a=A(),e=_(null),{payment:s,token:i,PayerID:r}=d.query;if(s=="stripe"||s=="manual")return e.value=a.getConfirmationOrder,{site:n,order:e};if(s=="paypal"&&i&&r){const{$api:p}=b(),{data:t}=await S(`verify-paypal-${r}`,async()=>{try{return await p.get(new g({token:i,payerId:r}))}catch(l){console.log(l)}});T(t==null?void 0:t.value)||(e.value=t.value,O.includes((u=e.value)==null?void 0:u.paymentStatus)&&(a.clearCart(),a.setConfirmationOrder(e)))}return{site:n,order:e}},render(){return c("div",{class:"kmb-site-page"},[c(E,{site:this.site,order:this.order},null)])}});export{D as default};
