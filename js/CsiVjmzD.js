import{d as W,s as A,v as k,ac as I,i as S,c as e,a0 as M,N as V}from"./ChUMkS6P.js";import{t as $}from"./Ck2GPDyH.js";import{F as a}from"./lrIEU_yr.js";import{D as B}from"./DQIOWBcP.js";import{B as U}from"./Ctrti42B.js";import{C as O}from"./B7cfXcYQ.js";import{L as n}from"./CyET3sau.js";import{W as P}from"./CsyJWe2y.js";import{W as R}from"./DeNJEHch.js";import"./DRn4CTZ7.js";import"./C_o6bKG3.js";import"./1IXFzUcJ.js";import"./CeHZR0Ph.js";import"./Cct5n2E0.js";import"./DfwKCUKn.js";import"./Mt02bkho.js";import"./CctDz5RS.js";import"./Dc9JWRGJ.js";import"./DfxtQXwc.js";import"./D6uAcWDZ.js";import"./ClCWloev.js";import"./BVv2S30c.js";import"./R0UYFyp_.js";import"./Ch4n82Ol.js";import"./Cnp9mbgV.js";import"./xwgnLmIi.js";import"./CuhE2MTX.js";import"./6SHmCfzU.js";import"./CwgerLfp.js";import"./CLpWF7IP.js";import"./D9Hbs_0D.js";import"./A9nCysFq.js";import"./D9yAkl0j.js";import"./B7AWbE-9.js";import"./CiHLLTvI.js";import"./DldpU35S.js";import"./DzFfo68f.js";import"./DwDAZxOX.js";const j=[a.Location,a.Service,a.StaffMember,a.Date],_e=W({name:"BookingT4V2",props:{...B,settings:{type:Object,required:!0}},setup(d){const{t:b}=A(),u=k(null),p=k(null),f=k(null);I(()=>{var t,o;u.value&&(p.value=((t=u.value)==null?void 0:t.contactForm)??null,f.value=((o=u.value)==null?void 0:o.bookingDetails)??null)});const C=t=>{const{label:o,lczText:r}=t||{};return(r==null?void 0:r.lczValue)||o},E=S(()=>{var t;return((t=d.site)==null?void 0:t.widgetDisplayCurrencyCode)||"USD"}),L=S(()=>d.settings.contactForm.fields.filter(t=>j.includes(t.name)));return{form:u,renderFormSummary:()=>{var w;if(M(d.settings.contactForm.fields))return;const{locations:t,workers:o,services:r,request:i}=f.value||{},v={[a.Location]:t||[],[a.StaffMember]:o||[],[a.Service]:r||[]};return e("div",{class:"kmb-widget-booking-summary-form kmb-widget-mini-banner-bg lg_p-16 p-6"},[e("div",{class:"kmb-booking-form-summary-head mb-5"},[e(n,{class:"kmb-header-label kmb-booking-form-summary-title kmb-widget-title-h4",label:"Summary:"},null)]),e("ul",{class:"kmb-widget-booking-summary-list"},[(w=L.value)==null?void 0:w.map((y,_)=>{var h,D;let x=null;const{key:N,name:g}=y,{fields:m}=p.value||{},c=C(y),s=((h=m==null?void 0:m.find(l=>l.key==N))==null?void 0:h.value)||null,F=((D=m==null?void 0:m.find(l=>l.key==d.settings.contactForm.fields[_+1].key))==null?void 0:D.value)||null;if(s&&v[g]){const l=v[g].find(T=>T.id==s);x=(l==null?void 0:l.title)??(l==null?void 0:l.firstName)??s}return g==a.Date?e("li",{class:"kmb-widget-booking-summary-list-item kmb-widget-booking-summary-list-date-item kmb-widget-xl-group flex"},[e("div",{class:"flex flex-col"},[c&&e(n,{class:"kmb-inline-label kmb-date-label",label:`${c} & `},null),e("span",{class:"kmb-form-value"},[s||"yyyy-mm-dd"])]),e("div",{class:"flex flex-col"},[c&&e(n,{class:"kmb-inline-label -ml-10",label:`${b("labels.time")}:`},null),e("span",{class:"kmb-form-value ml-2"},[F||b("labels.timeFormat")])])]):e("li",{class:"kmb-widget-booking-summary-list-item kmb-widget-xl-group flex flex-col"},[c&&e(n,{class:"kmb-inline-label",label:`${c}:`},null),e("span",{class:"kmb-form-value"},[x||s||"-"])])}),e("li",{class:"kmb-widget-booking-summary-list-item kmb-widget-booking-summary-list-duration-and-price-item kmb-widget-el-group flex"},[e("div",{class:"kmb-widget-row"},[e("div",{class:"flex flex-col kmb-widget-col"},[e(n,{class:"kmb-inline-label kmb-date-label",label:`${b("labels.duration")}:`},null),e("span",{class:"kmb-form-value"},[(i==null?void 0:i.duration)||"0 h 00 min"])]),e("div",{class:"flex flex-col kmb-widget-col"},[e(n,{class:"kmb-inline-label kmb-date-label",label:`${b("labels.price")}:`},null),e("span",{class:"kmb-form-value"},[i!=null&&i.price?$(i==null?void 0:i.price):"00.00",V(" "),E.value])])])])])])}}},render(){return e(R,{class:"kmb-widget-booking booking-t4 booking-t4-v2",settings:this.settings},{default:()=>[e(P,{settings:this.settings},{default:()=>[e("div",{class:"kmb-widget-content booking-content kmb-widget-content-container"},[e("div",{class:"kmb-widget-flex-row"},[e("div",{class:"lg_w-1-2 w-full kmb-lg-widget-right-md-col-space"},[e("div",{class:"kmb-md-widget-container kmb-md-widget-content-container"},[e(O,{settings:this.settings,widgetIndex:this.widgetIndex,animateClassName:this.animateClassName,isEnabledAnimation:this.isEnabledAnimation,isEnabledSubTitle:!1,isEnabledDivider:!1},null),e("div",{class:"kmb-widget-booking-form-wrap"},[e(U,{contactForm:this.settings.contactForm,ref:"form",isEnabledLabel:!1,class:"kmb-widget-contact-form-left-btn-group"},null)])])]),e("div",{class:"lg_w-1-2 w-full kmb-lg-widget-left-md-col-space lg_block hidden lg_mt-0 mt-4"},[e("div",{class:"kmb-md-widget-container kmb-md-widget-content-container"},[this.renderFormSummary()])])])])]})]})}});export{_e as default};
