var S=Object.defineProperty;var E=(i,s,d)=>s in i?S(i,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):i[s]=d;var c=(i,s,d)=>E(i,typeof s!="symbol"?s+"":s,d);import{eg as _,d as W,s as j,i as u,j as k,a0 as w,du as I,dt as L,c as t,k as m,N as g}from"./ChUMkS6P.js";import{S as D}from"./CctDz5RS.js";import{n as v}from"./BVv2S30c.js";const B={mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday",sun:"Sunday"};class C extends _{constructor(d){super(d);c(this,"day");Object.assign(this,d)}}const U=[v("isAlwaysActive"),v("isMergedSchedule")],R=W({name:"OpeningHours",props:{value:{type:Object,required:!0},isEnabled:{type:Boolean,default:!0},isWidget:{type:Boolean,default:!1},isFullDateName:{type:Boolean,default:!1},isEnabledAnimation:{type:Boolean,default:!1},animateClassName:{type:String,default:"animate__fadeInUp"}},setup(i){const{t:s}=j(),d=u(()=>{var e;return((e=i.value)==null?void 0:e.isMergedSchedule)||!1}),O=u(()=>({mon:s("days.mon"),tue:s("days.tue"),wed:s("days.wed"),thu:s("days.thu"),fri:s("days.fri"),sat:s("days.sat"),sun:s("days.sun")})),p=u(()=>({mon:s("shortDays.mon"),tue:s("shortDays.tue"),wed:s("shortDays.wed"),thu:s("shortDays.thu"),fri:s("shortDays.fri"),sat:s("shortDays.sat"),sun:s("shortDays.sun")})),y=u(()=>k(i.value)?[]:Object.entries(i.value).filter(([n])=>!U.includes(n)).map(([n,a])=>new C({day:n,isOpened:a.isOpened,startHour:a.startHour,startMinute:a.startMinute,startTimeFormat:a.startTimeFormat,endHour:a.endHour,endMinute:a.endMinute,endTimeFormat:a.endTimeFormat})).sort((n,a)=>D.indexOf(n.day)-D.indexOf(a.day))),T=u(()=>{if(w(y.value))return[];if(d.value){let e=0;return y.value.reduce((a,r,o)=>{if(!o)return a[e]=[r],a;const l=a[e][a[e].length-1];return r.isOpened&&l.startHour==r.startHour&&l.endHour==r.endHour&&l.startMinute==r.startMinute&&l.endMinute==r.endMinute&&l.startTimeFormat==r.startTimeFormat&&l.endTimeFormat==r.endTimeFormat?a[e].push(r):r.isOpened&&(e+=1,a[e]=[r]),a},[]).map(a=>a.filter(r=>r.isOpened)).filter(a=>a.length)}return y.value}),f=u(()=>{var e;return d.value?(e=y.value)==null?void 0:e.filter(n=>!n.isOpened):[]}),b=e=>e<10?"0"+e:e,h=e=>i.isFullDateName?O.value[e]||B[e]:p.value[e]||e,F=e=>{if(Array.isArray(e)&&(e!=null&&e.length)){let n=null,a=null;return Object.assign([],e).reduce((r,o)=>{o!=null&&o.isOpened&&!n&&(n=o.day)},[]),Object.assign([],e).reverse().reduce((r,o)=>{o!=null&&o.isOpened&&!a&&(a=o.day)},[]),n==a?h(n):`${p.value[n]||n} - ${p.value[a]||a}`}return h(e==null?void 0:e.day)},M=e=>{if(Array.isArray(e)&&(e=e[0]),i.value.hasOwnProperty(e.day)){const{isOpened:n,startHour:a,startMinute:r,startTimeFormat:o,endHour:l,endMinute:x,endTimeFormat:A}=i.value[e.day];if(!n)return t("span",{class:"kmb-opening-hours-value kmb-opening-hours-day-off-value kmb-widget-text-body3 whitespace-nowrap"},[s("labels.closed")]);const H=o=="am"?s("labels.am"):s("labels.pm"),N=A=="am"?s("labels.am"):s("labels.pm");return t("span",{class:"kmb-opening-hours-value kmb-widget-text-body3 whitespace-nowrap"},[t("span",{class:"kmb-opening-hours-time-value"},[t("span",{class:"kmb-opening-hours-time-hour-value"},[b(a)]),t("span",{class:"kmb-opening-hours-time-separetor"},[g(" : ")]),t("span",{class:"kmb-opening-hours-time-minute-value"},[b(r)]),t("span",{class:"kmb-opening-hours-time-format ml-1"},[H])]),t("span",{class:"kmb-opening-hours-separator"},[g(" - ")]),t("span",{class:"kmb-opening-hours-time-value"},[t("span",{class:"kmb-opening-hours-time-hour-value"},[b(l)]),t("span",{class:"kmb-opening-hours-time-separetor"},[g(" : ")]),t("span",{class:"kmb-opening-hours-time-minute-value"},[b(x)]),t("span",{class:"kmb-opening-hours-time-format ml-1"},[N])])])}};return{workingTime:T,renderItem:e=>{var n;return t("li",{class:m("kmb-widget-opening-hours-item kmb-widget-row items-center widget-opening-hour-item mb-3",{"kmb-widget-opening-hours-day-off-item":!((n=i.value[e==null?void 0:e.day])!=null&&n.isOpened)})},[t("span",{class:"kmb-day-label flex-1 kmb-widget-col"},[t("span",{class:m("kmb-day-label-name",i.isWidget?"kmb-widget-sub-title":"kmb-widget-text-body2")},[F(e)])]),t("span",{class:"kmb-opening-hours w-full md_w-auto kmb-widget-col"},[M(e)])])},renderDaysOfWeek:()=>{if(!w(f.value))return t("li",{class:m("kmb-widget-opening-hours-item kmb-widget-opening-hours-days-off-item kmb-widget-row items-center widget-opening-hour-item mb-3",{"kmb-opening-hour-hide-item":d.value})},[t("div",{class:"kmb-days-off-row kmb-widget-col"},[t("div",{class:"kmb-widget-flex-row"},[f.value.map((e,n)=>t("div",{class:m("kmb-day-label-name",i.isWidget?"kmb-widget-sub-title":"kmb-widget-text-body2")},[e.day,f.value.length-1!=n&&",",g("Â ")]))])]),t("span",{class:"kmb-opening-hours kmb-widget-text-body3 w-full md_w-auto kmb-col kmb-widget-col"},[s("labels.closed")])])}}},render(){if(!k(this.value))return I(t("ul",{class:m("kmb-widget-opening-hours",this.isFullDateName?"kmb-widget-opening-hours-full-day-name":"kmb-widget-opening-hours-short-day-name")},[this.workingTime.map(i=>[this.renderItem(i)]),this.renderDaysOfWeek()]),[[L("animate-onscroll"),{className:`animate__animated ${this.animateClassName}`,isEnabled:this.isEnabledAnimation}]])}});export{R as default};
