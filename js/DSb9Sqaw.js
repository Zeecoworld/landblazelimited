import{b as u,a as m,e as w,ad as h,aq as p,ar as g}from"./ChUMkS6P.js";const x=()=>{const e=navigator==null?void 0:navigator.userAgent;return{userAgent:e,getBrowserName:()=>{let t="Unknown";return e.indexOf("Firefox")>-1?t="Firefox":e.indexOf("SamsungBrowser")>-1?t="Samsung Internet":e.indexOf("Opera")>-1||e.indexOf("OPR")>-1?t="Opera":e.indexOf("Trident")>-1?t="Microsoft Internet Explorer":e.indexOf("Edge")>-1?t="Microsoft Edge":e.indexOf("Chrome")>-1?t="Chrome":e.indexOf("Safari")>-1&&(t="Safari"),t},getPlatformType:()=>{let t="desktop";return/Mobile|Android|iP(ad|hone)|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|BlackBerry|Opera Mini|Fennec|Windows Phone|ZuneWP7/.test(e)?t="mobile":/Tablet|iPad|PlayBook|Silk|Kindle Fire/.test(e)&&(t="tablet"),t}}},y=e=>{try{{const{$api:r}=u(),t=m().getUserIp,c=w(),a=h("anonymousId",{maxAge:365*24*60*60});let o=a.value;o||(o=p(),a.value=o);const f=new Date().toISOString(),n=window==null?void 0:window.location,d=e?(e==null?void 0:e.metaTitle)||(e==null?void 0:e.name):document==null?void 0:document.title,s=new g({ip:t,siteId:c,anonymousId:o,type:"page",timeStamp:f,title:d,url:n.href,path:n.pathname,search:n.search,hash:n.hash,referrer:document==null?void 0:document.referrer}),i=x();i&&(s.userAgent=i.userAgent,s.browser=i.getBrowserName(),s.deviceCategory=i.getPlatformType()),r.post(s)}}catch(r){console.log(r)}},I=y;export{I as u};
